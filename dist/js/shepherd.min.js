/*!
 * /*! shepherd.js 2.0.0-beta.15 * /
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("popper.js/dist/umd/popper")):"function"==typeof define&&define.amd?define(["popper.js/dist/umd/popper"],t):"object"==typeof exports?exports.Shepherd=t(require("popper.js/dist/umd/popper")):e.Shepherd=t(e.Popper)}(this,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){var e=0;return function(){return++e}}();function c(e){return void 0===e}function u(e){return"object"===(void 0===e?"undefined":o(e))}function p(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}var d=/^(.+) (top|left|right|bottom|center)$/;var f=function(){function e(){a(this,e)}return i(e,[{key:"on",value:function(e,t,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=arguments.length,n=Array(t>1?t-1:0),i=0,o=1;o<t;o++)n[o-1]=arguments[o];for(;i<this.bindings[e].length;){var s=this.bindings[e][i],r=s.ctx,h=s.handler,a=s.once,l=r;void 0===l&&(l=this),h.apply(l,n),a?this.bindings[e].splice(i,1):++i}}}}]),e}(),v=function(e){function t(e,n){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.tour=e,i.bindMethods(),i.setOptions(n),r(i,i)}return h(t,f),i(t,[{key:"bindMethods",value:function(){var e=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map(function(t){e[t]=e[t].bind(e)})}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.destroy(),this.id=this.options.id||this.id||"step-"+l();var t=this.options.when;if(t)for(var n in t)if({}.hasOwnProperty.call(t,n)){var i=t[n];this.on(n,i,this)}var s=JSON.stringify(this.options.buttons),r=c(s)||"true"===s,h="{}"===s||"[]"===s||"null"===s||"false"===s,a=!r&&Array.isArray(this.options.buttons),u=!r&&function(e){return null!==e&&"object"===(void 0===e?"undefined":o(e))&&!1===Array.isArray(e)}(this.options.buttons);r?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!h&&u?this.options.buttons=[this.options.buttons]:!h&&a||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var e=this,t=function(e,t){if(null===e||c(e))return e;if(u(e))return e;for(var n=e.split(" "),i={},o=t.length-1,s=n.length-1;s>=0;s--){if(0===o){i[t[o]]=n.slice(0,s+1).join(" ");break}i[t[o]]=n[s],o--}return i}(this.options.advanceOn,["selector","event"]),n=t.event,i=t.selector,o=function(t){e.isOpen()&&(c(i)?e.el&&t.target===e.el&&e.tour.next():function(e,t){var n=void 0;return c(e.matches)?c(e.matchesSelector)?c(e.msMatchesSelector)?c(e.webkitMatchesSelector)?c(e.mozMatchesSelector)?c(e.oMatchesSelector)||(n=e.oMatchesSelector):n=e.mozMatchesSelector:n=e.webkitMatchesSelector:n=e.msMatchesSelector:n=e.matchesSelector:n=e.matches,n.call(e,t)}(t.target,i)&&e.tour.next())};document.body.addEventListener(n,o),this.on("destroy",function(){return document.body.removeEventListener(n,o)})}},{key:"getAttachTo",value:function(){var e=function(e){if(u(e))return e.hasOwnProperty("element")&&e.hasOwnProperty("on")?e:null;var t=d.exec(e);if(!t)return null;var n=t[2];return"["===n[0]&&(n=n.substring(1,n.length-1)),{element:t[1],on:n}}(this.options.attachTo)||{},t=Object.assign({},e);if("string"==typeof e.element){try{t.element=document.querySelector(e.element)}catch(e){}t.element||console.error("The element for this Shepherd step was not found "+e.element)}return t}},{key:"setupPopper",value:function(){if(c(s.default))throw new Error("Using the attachment feature of Shepherd requires the Popper.js library");var e=this.getAttachTo();e.modifiers=e.modifiers||{};var t=e.on||"right";e.positionFixed=!1,c(e.element)&&(e.element=document.body,t="top",e.modifiers=Object.assign({computeStyle:{enabled:!0,fn:function(e){return e.styles=Object.assign({},e.styles,{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),e}}},e.modifiers),e.positionFixed=!0);var n=Object.assign({},{placement:t,arrowElement:this.el.querySelector(".popper__arrow"),modifiers:e.modifiers,positionFixed:e.positionFixed},this.options.popperOptions);this.popper&&this.popper.destroy(),this.el.classList.add("shepherd-element"),this.popper=new s.default(e.element,this.el,n),this.target=e.element,this.target.classList.add("shepherd-enabled","shepherd-target")}},{key:"show",value:function(){var e=this;if(!c(this.options.beforeShowPromise)){var t=this.options.beforeShowPromise();if(!c(t))return t.then(function(){return e._show()})}this._show()}},{key:"_show",value:function(){var e=this;this.trigger("before-show"),this.el||this.render(),this.el.hidden=!1,this.el.style.display="block",document.body.setAttribute("data-shepherd-step",this.id),this.setupPopper(),this.options.scrollTo&&setTimeout(function(){e.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),this.el&&(this.el.hidden=!0,this.el.style.display="none"),document.body.removeAttribute("data-shepherd-step"),this.target&&this.target.classList.remove("shepherd-enabled","shepherd-target"),this.popper&&this.popper.destroy(),this.popper=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&!this.el.hidden}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var e=this.getAttachTo().element;c(this.options.scrollToHandler)?c(e)||e.scrollIntoView():this.options.scrollToHandler(e)}},{key:"destroy",value:function(){!c(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.popper&&this.popper.destroy(),this.popper=null,this.trigger("destroy")}},{key:"render",value:function(){var e=this;c(this.el)||this.destroy(),this.el=p("<div class='"+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+">"),this.options.attachTo&&this.el.appendChild(p('<div class="popper__arrow" x-arrow></div>'));var t=document.createElement("div");t.classList.add("shepherd-content"),this.el.appendChild(t);var n=document.createElement("header");if(t.appendChild(n),this.options.title&&(n.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.classList.add("shepherd-has-title")),this.options.showCancelLink){var i=p('<a href class="shepherd-cancel-link"></a>');n.appendChild(i),this.el.classList.add("shepherd-has-cancel-link"),this.bindCancelLink(i)}if(!c(this.options.text)){var o=p("<div class='shepherd-text'></div>"),s=this.options.text;"function"==typeof s&&(s=s.call(this,o)),s instanceof HTMLElement?o.appendChild(s):("string"==typeof s&&(s=[s]),s.map(function(e){o.innerHTML+="<p>"+e+"</p>"})),t.appendChild(o)}if(this.options.buttons){var r=document.createElement("footer"),h=p("<ul class='shepherd-buttons'></ul>");this.options.buttons.map(function(t){var n=p("<li><a class='shepherd-button "+(t.classes||"")+"'>"+t.text+"</a>");h.appendChild(n),e.bindButtonEvents(t,n.querySelector("a"))}),r.appendChild(h),t.appendChild(r)}var a=this.options.renderLocation;a?a instanceof HTMLElement?a.appendChild(this.el):"string"==typeof a&&document.querySelector(a).appendChild(this.el):document.body.appendChild(this.el),this.setupPopper(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.cancel()})}},{key:"bindButtonEvents",value:function(e,t){var n=this;for(var i in e.events=e.events||{},c(e.action)||(e.events.click=e.action),e.events)if({}.hasOwnProperty.call(e.events,i)){var o=e.events[i];"string"==typeof o&&function(){var e=o;o=function(){return n.tour.show(e)}}(),t.addEventListener(i,o)}this.on("destroy",function(){for(var n in e.events)if({}.hasOwnProperty.call(e.events,n)){var i=e.events[n];t.removeEventListener(n,i)}})}}]),t}(),y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.bindMethods(),n.options=e,n.steps=n.options.steps||[];return["complete","cancel","start","show","active","inactive"].map(function(e){!function(e){n.on(e,function(t){(t=t||{}).tour=n,b.trigger(e,t)})}(e)}),r(n,n)}return h(t,f),i(t,[{key:"bindMethods",value:function(){var e=this;["next","back","cancel","complete"].map(function(t){e[t]=e[t].bind(e)})}},{key:"addStep",value:function(e,t){return c(t)&&(t=e),t instanceof v?t.tour=this:("string"!=typeof e&&"number"!=typeof e||(t.id=e.toString()),t=Object.assign({},this.options.defaults,t),t=new v(this,t)),this.steps.push(t),t}},{key:"removeStep",value:function(e){for(var t=this.getCurrentStep(),n=0;n<this.steps.length;++n){var i=this.steps[n];if(i.id===e){i.isOpen()&&i.hide(),i.destroy(),this.steps.splice(n,1);break}}t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}},{key:"getById",value:function(e){for(var t=0;t<this.steps.length;++t){var n=this.steps[t];if(n.id===e)return n}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}},{key:"back",value:function(){var e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}},{key:"cancel",value:function(){this.done("cancel")}},{key:"complete",value:function(){this.done("complete")}},{key:"done",value:function(e){this.currentStep&&this.currentStep.hide(),this.trigger(e),b.activeTour.steps.forEach(function(e){e.destroy()}),b.activeTour=null,document.body.classList.remove("shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentStep?this.currentStep.hide():(document.body.classList.add("shepherd-active"),this.trigger("active",{tour:this})),b.activeTour=this;var n=void 0;if(n="string"==typeof e?this.getById(e):this.steps[e])if(c(n.options.showOn)||n.options.showOn())this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep=n,n.show();else{var i=this.steps.indexOf(n),o=t?i+1:i-1;this.show(o,t)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),t}(),b=new f;Object.assign(b,{Tour:y,Step:v,Evented:f}),t.default=b,e.exports=t.default},function(t,n){t.exports=e}])});
//# sourceMappingURL=shepherd.min.js.map